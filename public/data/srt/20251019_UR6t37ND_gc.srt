1
00:00:00,000 --> 00:00:04,000
So, hi guys, I'm Alisson.

2
00:00:04,000 --> 00:00:13,000
I'm here for some years and involved in
some major things on Ergo, like Nautilus

3
00:00:13,000 --> 00:00:22,000
Wallet and Fleet SDK and so on.

4
00:00:22,000 --> 00:00:32,000
And before I start, I would like to say
hi, glad that I am to be between you guys.

5
00:00:32,000 --> 00:00:38,000
So it's really nice to finally meet
everyone of you personally.

6
00:00:38,000 --> 00:00:41,000
So thank you for making it happen.

7
00:00:41,000 --> 00:00:46,000
So let's talk about Machina, right?

8
00:00:46,000 --> 00:00:50,000
So that's right.

9
00:00:50,000 --> 00:01:04,000
So, Machina is a P2P decentralized
exchange on top of Ergo blockchain.

10
00:01:04,000 --> 00:01:15,000
We like to think of it as something like
a UTXO native application because so far

11
00:01:15,000 --> 00:01:26,000
most of applications on the UTXO model try
to somehow emulate how EVM contracts

12
00:01:26,000 --> 00:01:37,000
works, so we are trying to do something
different there, so where each order on

13
00:01:37,000 --> 00:01:48,000
the exchange is individual contract, so
it's I think it's the best approach for

14
00:01:48,000 --> 00:01:59,000
UTXO structure.

15
00:02:00,000 --> 00:02:07,000
So it's P2P because you open orders
directly and somebody buys from you with

16
00:02:07,000 --> 00:02:14,000
no intermediaries or no batching,
third-party batching mechanism, so it's

17
00:02:14,000 --> 00:02:21,000
based on grid orders instead of liquidity
pools.

18
00:02:22,000 --> 00:02:28,000
So it's pretty novel.

19
00:02:28,000 --> 00:02:34,000
We are taking advantage of kushti's idea
on his grid contracts here.

20
00:02:34,000 --> 00:02:42,000
So this contract is basically you set
orders so when somebody buys or sells from

21
00:02:42,000 --> 00:02:50,000
you it creates an inverse orders making a
profit difference between transactions so

22
00:02:50,000 --> 00:02:58,000
it's also self-custodial so you have
control and ownership of your assets from

23
00:02:58,000 --> 00:03:06,000
end to end no intermediaries here so

24
00:03:09,000 --> 00:03:19,000
And as I told, no intermediaries and also
no proxy contracts.

25
00:03:19,000 --> 00:03:23,000
I'm not saying that proxy contracts are
bad.

26
00:03:23,000 --> 00:03:29,000
They are good in some points because, for
example, it's a good strategy to create

27
00:03:29,000 --> 00:03:35,000
some kind of incentive for running
infrastructure.

28
00:03:36,000 --> 00:03:42,000
But it's not so transparent from a user
experience perspective.

29
00:03:42,000 --> 00:03:47,000
Because you are sending assets to a
string, basically.

30
00:03:47,000 --> 00:03:51,000
And you need to hope that assets get back
to you.

31
00:03:51,000 --> 00:03:55,000
So it's kind of not really transparent.

32
00:03:55,000 --> 00:03:59,000
So yeah, we are trying to do this in the
more transparent way.

33
00:03:59,000 --> 00:04:07,000
So for this to work in a more and having
concurrency in mind, we need to do some

34
00:04:07,000 --> 00:04:15,000
changes on Nautilus side, because we need
batching anyway.

35
00:04:16,000 --> 00:04:25,000
So what I'm trying to do is to implement
a batching mechanism directly on Nautilus.

36
00:04:25,000 --> 00:04:33,000
So you agree for certain slippage
tolerance, so it will resign this

37
00:04:33,000 --> 00:04:41,000
transaction as many times as possible so
you are your own batcher so and as and in

38
00:04:41,000 --> 00:04:49,000
the last point as everything on Ergo it's
open source and very favorable and yes as

39
00:04:49,000 --> 00:04:57,000
everything should be right

40
00:04:57,000 --> 00:05:03,000
So we have the structural overview here.

41
00:05:03,000 --> 00:05:09,000
So as you can see, it's a pretty simple
one. But this has a reason to be like this

42
00:05:09,000 --> 00:05:15,000
because we believe in true
decentralization and decentralization

43
00:05:15,000 --> 00:05:21,000
means not only using a blockchain as a
settlement layer, you need to run your own

44
00:05:21,000 --> 00:05:27,000
transactions.

45
00:05:29,000 --> 00:05:30,000
You run batching.

46
00:05:30,000 --> 00:05:38,000
So the entire application logic runs
exclusively on the user browser.

47
00:05:38,000 --> 00:05:41,000
So UI will do most of the job.

48
00:05:41,000 --> 00:05:51,000
So interpreting UTXOs, parsing, batching,
composing transactions, and so on.

49
00:05:51,000 --> 00:05:58,000
And on the other side, we need some kind
of real-time UTXO transaction, UTXO

50
00:05:58,000 --> 00:06:05,000
streaming.

51
00:06:05,000 --> 00:06:13,000
So here's where Hermes comes to play,
which is a tool we are building.

52
00:06:13,000 --> 00:06:15,000
That's a simple one.

53
00:06:15,000 --> 00:06:21,000
It just takes data from an indexed node
and streams it directly for the UI.

54
00:06:21,000 --> 00:06:28,000
So it's not something really complex.

55
00:06:28,000 --> 00:06:33,000
Generic enough for any other application
to make use of it.

56
00:06:33,000 --> 00:06:40,000
So it's not our actual backend because
anybody can run it even locally and have

57
00:06:40,000 --> 00:06:47,000
fun, be your own bank.

58
00:06:47,000 --> 00:06:55,000
So contracts, we have currently two
different trading strategies done, which

59
00:06:55,000 --> 00:07:03,000
is auto-compounding, so when you create
multiple grid orders, everything, let's

60
00:07:03,000 --> 00:07:11,000
say you create an order selling Ergo for
SigmaUSD, so everything you sold, you'll

61
00:07:11,000 --> 00:07:19,000
be used to buy lower.

62
00:07:22,000 --> 00:07:32,000
So you are maximizing profits and
potentially losses.

63
00:07:32,000 --> 00:07:36,000
Alternatively, we have a cumulative
strategy.

64
00:07:36,000 --> 00:07:41,000
Which is we use fixed rates for buy and
sell.

65
00:07:41,000 --> 00:07:47,000
So we buy fixed rates and sell and fixed
rates.

66
00:07:47,000 --> 00:07:52,000
So the profits are accumulated
separately.

67
00:07:52,000 --> 00:07:59,000
So it can be a more conservative
strategy.

68
00:07:59,000 --> 00:08:01,000
It's composable.

69
00:08:01,000 --> 00:08:07,000
All contracts are composable, which means
you can, for example, borrow something on

70
00:08:07,000 --> 00:08:13,000
SigmaFi or do pools and right away do some
trading on Machina in a single

71
00:08:13,000 --> 00:08:19,000
transaction.

72
00:08:20,000 --> 00:08:27,000
And all the protocols can use its
liquidity to make wherever they want

73
00:08:27,000 --> 00:08:34,000
because it's easily composable.

74
00:08:35,000 --> 00:08:40,000
Yet on composition, we have some
characteristics we wanted to have from the

75
00:08:40,000 --> 00:08:45,000
ground up.

76
00:08:46,000 --> 00:08:48,000
It is highly optimized.

77
00:08:48,000 --> 00:08:54,000
We spend a lot of time optimizing code on
a built-in Ergo tree to fit as much orders

78
00:08:54,000 --> 00:09:00,000
in a single transaction as possible.

79
00:09:01,000 --> 00:09:08,000
So our biggest grid contract has around
300 bytes, which allows us to fit around

80
00:09:08,000 --> 00:09:15,000
219 orders in a single transaction.

81
00:09:16,000 --> 00:09:22,000
So it's pretty usable right now.

82
00:09:22,000 --> 00:09:23,000
This is the biggest one.

83
00:09:23,000 --> 00:09:32,000
We have, for example, single buy-and-sell
orders that are like 16 bytes.

84
00:09:32,000 --> 00:09:36,000
It's ridiculous, yeah.

85
00:09:36,000 --> 00:09:40,000
And also no built-in protocol fees.

86
00:09:40,000 --> 00:10:46,000
So it's okay.

87
00:10:46,000 --> 00:10:54,000
Yes, we are assuming here we are using
regular 97 kilobytes transactions, which

88
00:10:54,000 --> 00:11:02,000
is the regular transaction that the nodes
accepts directly by mempool.

89
00:11:03,000 --> 00:11:10,000
But mining pools can do transactions as
big as they want.

90
00:11:10,000 --> 00:11:32,000
So it can be even bigger.

91
00:11:32,000 --> 00:11:38,000
Yeah, this is a concept we are maturing
for years.

92
00:11:38,000 --> 00:11:45,000
So we reached to the decision that
protocol level fees are not good for very

93
00:11:45,000 --> 00:11:52,000
good growth as a whole.

94
00:11:52,000 --> 00:12:03,000
So we just gave up on this and let's make
a public good, right?

95
00:12:03,000 --> 00:12:05,000
Yeah, yeah, yeah, absolutely, yes.

96
00:12:05,000 --> 00:12:19,000
It's like SigmaUSD, right, yeah.

97
00:12:19,000 --> 00:12:22,000
Okay, thank you.

98
00:12:22,000 --> 00:12:26,000
So, yeah.

99
00:12:26,000 --> 00:12:29,000
Thank you.

100
00:12:29,000 --> 00:12:35,000
So, with no protocol level, any other
application on top of Ergo can use

101
00:12:35,000 --> 00:12:41,000
Machina's liquidity and do wherever they
want.

102
00:12:42,000 --> 00:12:46,000
So, yeah.

103
00:12:46,000 --> 00:12:55,000
So now we talk a little bit about Hermes,
which is a tool that we use to make

104
00:12:55,000 --> 00:13:04,000
real-time price tracking and UTXO
streaming possible.

105
00:13:04,000 --> 00:13:09,000
So it just takes UTXOs from the index and
Ergo node and streams to wherever they

106
00:13:09,000 --> 00:13:14,000
want.

107
00:13:14,000 --> 00:13:17,000
So it's also mempool aware.

108
00:13:17,000 --> 00:13:24,000
So you can chain transactions by default,
because currently it's pretty complex to

109
00:13:24,000 --> 00:13:31,000
keep track of mempool state.

110
00:13:32,000 --> 00:13:36,000
So I wanted to take care of it.

111
00:13:36,000 --> 00:14:45,000
So, yeah.

112
00:14:45,000 --> 00:14:58,000
So I was saying that we can do 290 orders
per transaction at the worst case.

113
00:14:58,000 --> 00:15:02,000
So all these orders are using the biggest
contracts.

114
00:15:02,000 --> 00:15:08,000
And then, as Alisson mentioned, that we
can do chain transactions, right?

115
00:15:08,000 --> 00:15:11,000
So you can submit transactions one after
another without having to wait for

116
00:15:11,000 --> 00:15:14,000
confirmation.

117
00:15:14,000 --> 00:15:19,000
So if we know the block size limit, I'll
check after this, but we can theoretically

118
00:15:19,000 --> 00:15:24,000
do like 290 orders times the amount of
transactions per block.

119
00:15:24,000 --> 00:15:28,000
So if it's like 100 transactions per
block, we can have nearly 30,000 orders

120
00:15:28,000 --> 00:15:32,000
per block.

121
00:15:32,000 --> 00:15:38,000
This is huge compared to what exists
right now on Ethereum or Cardano.

122
00:15:38,000 --> 00:15:44,000
So I think this is pretty impressive,
something to think about, of leveraging

123
00:15:44,000 --> 00:15:50,000
UTXO's capabilities.

124
00:15:50,000 --> 00:15:54,000
Yeah, I don't know too much about sub
blocks, but with sub blocks too, we can

125
00:15:54,000 --> 00:15:58,000
have so much, just really high throughput
potential here, so.

126
00:15:59,000 --> 00:16:04,000
Yeah, I think sub blocks, we have similar
capacity that you'll be just fitted on a

127
00:16:04,000 --> 00:16:09,000
main block.

128
00:16:10,000 --> 00:16:17,000
Yeah, I think liquidity must be
constructed, but I think we have a natural

129
00:16:17,000 --> 00:16:24,000
incentive here because the market can
explore arbitrage between, for example,

130
00:16:24,000 --> 00:16:31,000
Spectrum DEX and Machina.

131
00:16:32,000 --> 00:16:36,000
So I'm not too worried about liquidity
right now because we are just building

132
00:16:36,000 --> 00:16:40,000
things.

133
00:16:41,000 --> 00:16:52,000
But yeah, I think it's eventually...

134
00:16:52,000 --> 00:16:56,000
Sorry, can you repeat?

135
00:16:56,000 --> 00:16:58,000
Yeah, exactly this.

136
00:16:58,000 --> 00:16:59,000
Yeah, yeah, yeah.

137
00:16:59,000 --> 00:17:14,000
Yeah exactly because you set up grids you
are your own market maker. Yeah, yeah,

138
00:17:14,000 --> 00:17:29,000
absolutely and also controlled risks
because you are controlling your exposure,

139
00:17:29,000 --> 00:17:44,000
so on a certain range, so yeah.

140
00:17:44,000 --> 00:17:46,000
Yeah.

141
00:17:46,000 --> 00:17:49,000
Thank you.

142
00:17:49,000 --> 00:18:01,000
So back to Hermes, it's mempool aware,
which means back in Nautilus team, we have

143
00:18:01,000 --> 00:18:13,000
a philosophy that every product we build
we tried to extract some outcomes of it.

144
00:18:13,000 --> 00:18:24,000
So, for example, when we built Nautilus,
Fleet SDK is an outcome of it.

145
00:18:24,000 --> 00:18:28,000
It's a positive side effect because we
needed a powerful transaction builder

146
00:18:28,000 --> 00:18:32,000
tool.

147
00:18:33,000 --> 00:18:36,000
So I needed to do this from the ground
up.

148
00:18:36,000 --> 00:18:40,000
So I did it as a library so anyone can
use it.

149
00:18:40,000 --> 00:18:44,000
So this is the same for Hermes.

150
00:18:44,000 --> 00:18:48,000
Because it's app agnostic, anybody can
make use of it.

151
00:18:48,000 --> 00:19:00,000
And you have real-time UTXO streaming and
mempool aware transactions so yeah and

152
00:19:00,000 --> 00:19:12,000
there's a last point I have to confess
something for you guys

153
00:19:13,000 --> 00:19:21,000
GraphQL was a big, big mistake.

154
00:19:21,000 --> 00:19:30,000
We built that in a try to make Ergo work
properly back in 2021.

155
00:19:30,000 --> 00:19:36,000
But it's not successful, so I took
advantage of that, and as we have at least

156
00:19:36,000 --> 00:19:42,000
a caching layer integrated inside
Nautilus.

157
00:19:43,000 --> 00:19:47,000
But yeah, I have to confess it's not
perfect.

158
00:19:47,000 --> 00:19:55,000
So, Hermes, we will replace GraphQL on
Nautilus, so hopefully we have a way

159
00:19:55,000 --> 00:20:03,000
better user experience there.

160
00:20:04,000 --> 00:20:13,000
So roadmap, two weeks, right?

161
00:20:13,000 --> 00:20:18,000
So we already have contracts done and
under closed review by some community

162
00:20:18,000 --> 00:20:23,000
guys.

163
00:20:24,000 --> 00:20:34,000
And by the end of this year, I want to
have Hermes fully functional.

164
00:20:34,000 --> 00:20:38,000
And Fleet SDK for Q1 of the next year.

165
00:20:38,000 --> 00:20:43,000
Oh, sorry, not Fleet SDK, but Machina
SDK.

166
00:20:43,000 --> 00:20:49,000
Because it's important to have an SDK
because we empower a community to build

167
00:20:49,000 --> 00:20:55,000
stuff even before we have a functional UI.

168
00:20:55,000 --> 00:21:02,000
So they can use it and integrate it in
any way they want.

169
00:21:02,000 --> 00:21:03,000
Yeah, exactly.

170
00:21:03,000 --> 00:21:04,000
Yeah, yeah, yeah.

171
00:21:04,000 --> 00:21:15,000
So they can, for example, build arbitrage
bots and something like that.

172
00:21:15,000 --> 00:21:19,000
They gain some time before release.

173
00:21:19,000 --> 00:21:29,000
And on Q2, our plan is to have our full
end-to-end beta on Mainnet.

174
00:21:29,000 --> 00:21:37,000
Let's hope for it.

175
00:21:37,000 --> 00:21:45,000
So thank you and...

176
00:21:45,000 --> 00:21:48,000
Yeah.

177
00:21:48,000 --> 00:22:06,000
OK.

178
00:22:06,000 --> 00:22:09,000
Yeah, so I did the calculations.

179
00:22:09,000 --> 00:22:10,000
Yeah, perfect.

180
00:22:10,000 --> 00:22:12,000
So I did the calculations, right?

181
00:22:12,000 --> 00:22:18,000
So the maximum block size is 1.27 million
bytes.

182
00:22:18,000 --> 00:22:25,000
So like 1,270 kilobytes is the maximum
block size.

183
00:22:25,000 --> 00:22:28,000
And the maximum transaction size is 96
kilobytes.

184
00:22:28,000 --> 00:22:35,000
So that means you can have about 13 max
size transactions per block.

185
00:22:35,000 --> 00:22:38,000
So if you're doing what, 290 orders,
right?

186
00:22:38,000 --> 00:22:41,000
And that's the max that fills the 96
kilobytes, right?

187
00:22:41,000 --> 00:22:47,000
Yeah, yeah, so we can do about 3750
orders per block.

188
00:22:47,000 --> 00:22:51,000
So that's not as much as I probably
claimed, but that's still a lot compared

189
00:22:51,000 --> 00:22:55,000
to definitely more than anything Cardano
does for sure.

190
00:22:55,000 --> 00:22:59,000
So and again, guys, as Joe mentioned,
this is all open parameters.

191
00:22:59,000 --> 00:23:03,000
So miners can vote for a larger block
size, right?

192
00:23:03,000 --> 00:23:08,000
So when the demand comes, we can all like
vote for much bigger blocks, right?

193
00:23:08,000 --> 00:23:12,000
And we can squeeze in so much more orders
per block.

194
00:23:12,000 --> 00:23:15,000
And yeah, just the throughput will be
really fast.

195
00:23:15,000 --> 00:23:20,000
So this is really impressive.

196
00:23:20,000 --> 00:23:24,000
About 3750 orders per block.

197
00:23:24,000 --> 00:23:27,000
Holy shit.

198
00:23:27,000 --> 00:23:30,000
Sorry.

199
00:23:30,000 --> 00:23:32,000
Yes, that's in the worst case.

200
00:23:32,000 --> 00:23:33,000
That's the worst case.

201
00:23:33,000 --> 00:23:34,000
Yeah, yeah, yeah.

202
00:23:34,000 --> 00:23:35,000
Worst case, yeah.

203
00:23:35,000 --> 00:23:36,000
Yeah, yeah.

204
00:23:36,000 --> 00:23:37,000
Do we know best case?

205
00:23:37,000 --> 00:23:38,000
How many orders?

206
00:23:38,000 --> 00:23:42,000
Like the smallest orders?

207
00:23:42,000 --> 00:23:44,000
Not many, but I can check right now.

208
00:23:44,000 --> 00:23:46,000
Okay.

209
00:23:46,000 --> 00:26:07,000
Use your ErgoScript CLI tool?

210
00:26:07,000 --> 00:26:17,000
I haven't done it yet, but it's... Yeah,
but I think the baseline, we usually do

211
00:26:17,000 --> 00:26:27,000
like 0.011.

212
00:26:27,000 --> 00:26:40,000
Yeah, so it's pretty much enough for most
of transactions.

213
00:26:40,000 --> 00:27:05,000
Yeah, because for simple P2P
transactions, this baseline is already way

214
00:27:05,000 --> 00:27:30,000
overpaid.

215
00:27:31,000 --> 00:27:35,000
Oh, it will be not backwards compatible
because it needs to use web sockets

216
00:27:35,000 --> 00:27:39,000
because it's real time.

217
00:27:40,000 --> 00:27:41,000
I'm sorry.

218
00:27:41,000 --> 00:27:42,000
Streaming exactly.

219
00:27:42,000 --> 00:27:43,000
Yeah.

220
00:27:43,000 --> 00:27:44,000
Yeah.

221
00:27:44,000 --> 00:27:51,000
Yeah.

222
00:27:51,000 --> 00:27:59,000
Yes, because currently a lot of times do
a real spamming on exploring fractures.

223
00:27:59,000 --> 00:28:08,000
So if real time streaming, we can lower
our maintaining costs while getting real

224
00:28:08,000 --> 00:28:17,000
time.

225
00:28:18,000 --> 00:28:23,000
Anybody else?

226
00:28:23,000 --> 00:28:24,000
That's it.

227
00:28:24,000 --> 00:28:52,000
Thank you.

228
00:28:52,000 --> 00:29:02,000
3,750 transactions per block.

229
00:29:02,000 --> 00:29:03,000
Yeah.

230
00:29:03,000 --> 00:29:04,000
Best case.

231
00:29:04,000 --> 00:29:10,000
Yes.

232
00:29:10,000 --> 00:29:13,000
Yeah.

233
00:29:10,000 --> 00:29:14,000
Yeah.

234
00:29:14,000 --> 00:29:17,000
Yeah.

235
00:29:17,000 --> 00:29:21,000
Okay.

236
00:29:21,000 --> 00:29:27,000
Yeah, best case is like 16,000
transactions per block.

237
00:29:27,000 --> 00:29:38,000
So pretty much everything.

238
00:29:38,000 --> 00:29:41,000
OK, so I think we are done.

